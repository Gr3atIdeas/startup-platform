# Инструкции по применению миграции для original_file_name

## Что нужно сделать после деплоя:

### 1. Применить миграцию на сервере:
```bash
python manage.py migrate accounts
```

### 2. Раскомментировать поле в модели:

В файле `accounts/models.py` найти строки:
```python
# original_file_name = models.CharField(
#     max_length=255, blank=True, null=True
# )  # Добавляем поле для хранения оригинального названия файла
# ВРЕМЕННО ЗАКОММЕНТИРОВАНО ДО ПРИМЕНЕНИЯ МИГРАЦИИ
```

И заменить на:
```python
original_file_name = models.CharField(
    max_length=255, blank=True, null=True
)  # Добавляем поле для хранения оригинального названия файла
```

### 3. Закоммитить и задеплоить изменения:
```bash
git add accounts/models.py
git commit -m "Раскомментировать поле original_file_name после применения миграции"
git push
```

## Проверка работы:

После применения миграции и раскомментирования поля:
- ✅ Новые файлы будут сохраняться с оригинальными названиями
- ✅ Дубликаты будут получать номера (2), (3) и т.д.
- ✅ В интерфейсе будут показываться понятные названия файлов

## Примечания:

- До применения миграции система работает в fallback режиме (извлечение названий из S3)
- После применения миграции включается полная функциональность
- Старые файлы продолжат работать через fallback 