{% load static %}
<div class="ultra_new_planetary_system_wrapper">
  <div class="ultra_new_planetary_system_container">
    <!-- ОБЩИЙ ФОН КАК В КАРТОЧКЕ СТАРТАПА -->
    <div class="ultra_new_planetary_space_background"></div>
    <div class="ultra_new_planetary_stars"></div>
    
    <!-- КНОПКИ УПРАВЛЕНИЯ -->
    <button class="ultra_new_planetary_all_startups_button">Все стартапы</button>
    <button class="ultra_new_planetary_fullscreen_btn" id="ultra_new_planetary_fullscreen_btn">
      <img src="{% static 'accounts/images/planetary_system/scan-circle-outline.svg' %}" alt="fullscreen">
    </button>

    <!-- СОЛНЕЧНАЯ СИСТЕМА - РАБОЧАЯ СТРУКТУРА ИЗ ДЕМО -->
    <div id="ultra_new_planetary_solar_system">
      <div id="ultra_new_planetary_scene">
        <div id="ultra_new_planetary_galaxy">
          <!-- СОЛНЦЕ -->
          <div id="ultra_new_planetary_sun_container">
            <img src="{% static 'accounts/images/planetary_system/solar.png' %}" alt="sun" id="ultra_new_planetary_sun_image">
            <div id="ultra_new_planetary_sun_logo_container">
              <img src="{% static 'accounts/images/planetary_system/gi.svg' %}" alt="GI" id="ultra_new_planetary_sun_logo">
            </div>
          </div>
          
          <!-- 6 ОРБИТ С ПЛАНЕТАМИ - ИСПРАВЛЕННЫЕ РАЗМЕРЫ С БОЛЬШИМИ ИНТЕРВАЛАМИ -->
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 200px; --orbit-time: 80s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 60px;" data-id="1"></div>
            </div>
          </div>
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 300px; --orbit-time: 95s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 70px;" data-id="2"></div>
            </div>
          </div>
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 400px; --orbit-time: 110s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 56px;" data-id="3"></div>
            </div>
          </div>
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 500px; --orbit-time: 125s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 64px;" data-id="4"></div>
            </div>
          </div>
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 600px; --orbit-time: 140s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 50px;" data-id="5"></div>
            </div>
          </div>
          <div class="ultra_new_planetary_orbit" style="--orbit-size: 700px; --orbit-time: 160s;">
            <div class="ultra_new_planetary_planet_orientation">
              <div class="ultra_new_planetary_planet" style="--planet-size: 60px;" data-id="6"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- МОДАЛЬНОЕ ОКНО СТАРТАПА -->
    <div id="ultra_new_planetary_modal" class="ultra_new_planetary_modal">
      <!-- BACKDROP С БЛЮРОМ -->
      <div class="ultra_new_planetary_modal_backdrop"></div>
      
      <!-- КНОПКА ЗАКРЫТИЯ -->
      <button id="ultra_new_planetary_modal_close" class="ultra_new_planetary_modal_close">×</button>
      
      <!-- КОНТЕНТ МОДАЛЬНОГО ОКНА -->
      <div class="ultra_new_planetary_modal_content">
        <!-- ИЗОБРАЖЕНИЕ ПЛАНЕТЫ СЛЕВА -->
        <div class="ultra_new_planetary_modal_planet">
          <img id="ultra_new_planetary_modal_planet_img" src="" alt="Planet">
        </div>
        
        <!-- КАРТОЧКА ИНФОРМАЦИИ СПРАВА -->
        <div class="ultra_new_planetary_modal_card">
          <!-- НАЗВАНИЕ СТАРТАПА -->
          <h2 id="ultra_new_planetary_modal_name" class="ultra_new_planetary_modal_title">Ромашка</h2>
          
          <!-- РЕЙТИНГ И КОММЕНТАРИИ -->
          <div class="ultra_new_planetary_modal_rating_section">
            <div id="ultra_new_planetary_modal_rating" class="ultra_new_planetary_modal_rating">Рейтинг 4,2/5 (534)</div>
            <div class="ultra_new_planetary_modal_comments">
              <div class="ultra_new_planetary_modal_comment_icon"></div>
              <div id="ultra_new_planetary_modal_comments_count" class="ultra_new_planetary_modal_comments_text">17</div>
            </div>
          </div>
          
          <!-- КНОПКА ВЫКУП+ИНВЕСТИРОВАНИЕ -->
          <div class="ultra_new_planetary_modal_investment_btn">
            <button id="ultra_new_planetary_modal_investment_btn">Выкуп+инвестирование</button>
          </div>
          
          <!-- КАТЕГОРИЯ -->
          <div class="ultra_new_planetary_modal_category_section">
            <div id="ultra_new_planetary_modal_category" class="ultra_new_planetary_modal_category">Медицина</div>
          </div>
          
          <!-- ПРОГРЕСС БАР -->
          <div class="ultra_new_planetary_modal_progress_container">
            <div id="ultra_new_planetary_modal_progress" class="ultra_new_planetary_modal_progress"></div>
          </div>
          
          <!-- ОПИСАНИЕ -->
          <div id="ultra_new_planetary_modal_description" class="ultra_new_planetary_modal_description">
            Наш стартап разрабатывает инновационную платформу для телемедицины...
          </div>
          
          <!-- ФИНАНСИРОВАНИЕ И ОЦЕНКА -->
          <div class="ultra_new_planetary_modal_financing_section">
            <div class="ultra_new_planetary_modal_funding_goal">
              <div class="ultra_new_planetary_modal_funding_label">Цель финансирования</div>
              <div id="ultra_new_planetary_modal_funding_amount" class="ultra_new_planetary_modal_funding_amount">456 768 ₽</div>
            </div>
            <div class="ultra_new_planetary_modal_valuation">
              <div class="ultra_new_planetary_modal_valuation_icon"></div>
              <div class="ultra_new_planetary_modal_valuation_label">Оценка</div>
              <div id="ultra_new_planetary_modal_valuation_amount" class="ultra_new_planetary_modal_valuation_amount">567 876 ₽</div>
            </div>
          </div>
          
          <!-- КНОПКИ ДЕЙСТВИЙ -->
          <div class="ultra_new_planetary_modal_actions">
            <button id="ultra_new_planetary_modal_details_btn" class="ultra_new_planetary_modal_details_btn">Подробнее</button>
            <div class="ultra_new_planetary_modal_investors_info">
              <div class="ultra_new_planetary_modal_investor_icon"></div>
              <div id="ultra_new_planetary_modal_investors_count" class="ultra_new_planetary_modal_investors_text">Инвестировало (648)</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- СЕЛЕКТОР КАТЕГОРИЙ С НАВИГАЦИЕЙ -->
    <div id="ultra_new_planetary_galaxy_selector">
      <!-- ПЕРЕКЛЮЧАТЕЛЬ ВЛЕВО -->
      <button class="ultra_new_planetary_category_nav ultra_new_planetary_category_nav_left" id="ultra_new_planetary_category_prev">
        <img src="{% static 'accounts/images/planetary_system/chevron_left.svg' %}" alt="prev">
      </button>
      
      <!-- КОНТЕЙНЕР КАТЕГОРИЙ С ОГРАНИЧЕННЫМ ПОКАЗОМ -->
      <div id="ultra_new_planetary_galaxy_list_container">
        <div id="ultra_new_planetary_galaxy_list">
          <!-- Показываем только первые 7 категорий, остальные скрыты -->
          {% for direction in directions|slice:":7" %}
            <div class="ultra_new_planetary_galaxy_item {% if direction.direction_name == selected_galaxy %}selected{% endif %}" data-name="{{ direction.direction_name }}">
              <img src="{% static 'accounts/images/planetary_system/category_img.png' %}" class="ultra_new_planetary_category_icon" alt="cat">
              <span class="ultra_new_planetary_category_text">
                {% if direction.direction_name == 'Technology' %}Технологии
                {% elif direction.direction_name == 'Medicine' %}Медицина
                {% elif direction.direction_name == 'Finance' %}Финансы
                {% elif direction.direction_name == 'Education' %}Образование
                {% elif direction.direction_name == 'Entertainment' %}Развлечения
                {% elif direction.direction_name == 'Food' %}Еда
                {% elif direction.direction_name == 'Transportation' %}Транспорт
                {% else %}{{ direction.direction_name }}
                {% endif %}
              </span>
            </div>
          {% endfor %}
          
          <!-- Скрытые категории для JS переключения -->
          <div class="ultra_new_planetary_hidden_categories" style="display: none;">
            {% for direction in directions %}
              {% if not forloop.counter <= 7 %}
                <div class="ultra_new_planetary_galaxy_item {% if direction.direction_name == selected_galaxy %}selected{% endif %}" data-name="{{ direction.direction_name }}">
                  <img src="{% static 'accounts/images/planetary_system/category_img.png' %}" class="ultra_new_planetary_category_icon" alt="cat">
                  <span class="ultra_new_planetary_category_text">
                    {% if direction.direction_name == 'Energy' %}Энергия
                    {% elif direction.direction_name == 'Real Estate' %}Недвижимость
                    {% elif direction.direction_name == 'Fashion' %}Мода
                    {% elif direction.direction_name == 'Sports' %}Спорт
                    {% elif direction.direction_name == 'Travel' %}Путешествия
                    {% elif direction.direction_name == 'Environment' %}Экология
                    {% elif direction.direction_name == 'Social' %}Социальные сети
                    {% elif direction.direction_name == 'Gaming' %}Игры
                    {% elif direction.direction_name == 'Hardware' %}Оборудование
                    {% elif direction.direction_name == 'Software' %}ПО
                    {% elif direction.direction_name == 'AI' %}ИИ
                    {% elif direction.direction_name == 'Blockchain' %}Блокчейн
                    {% elif direction.direction_name == 'IoT' %}IoT
                    {% else %}{{ direction.direction_name }}
                    {% endif %}
                  </span>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
      
      <!-- ПЕРЕКЛЮЧАТЕЛЬ ВПРАВО -->
      <button class="ultra_new_planetary_category_nav ultra_new_planetary_category_nav_right" id="ultra_new_planetary_category_next">
        <img src="{% static 'accounts/images/planetary_system/chevron_right.svg' %}" alt="next">
      </button>
    </div>
  </div>
</div>

<!-- ДАННЫЕ ДЛЯ JAVASCRIPT -->
<script id="ultra_new_planetary_fallback_images" type="application/json">
{
  "round": [
    "{% static 'accounts/images/planetary_system/planets_round/1.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/2.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/3.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/4.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/5.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/6.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/7.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/8.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/9.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/10.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/11.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/12.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/13.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/14.png' %}",
    "{% static 'accounts/images/planetary_system/planets_round/15.png' %}"
  ],
  "ring": [
    "{% static 'accounts/images/planetary_system/planets_ring/1.png' %}",
    "{% static 'accounts/images/planetary_system/planets_ring/2.png' %}",
    "{% static 'accounts/images/planetary_system/planets_ring/3.png' %}",
    "{% static 'accounts/images/planetary_system/planets_ring/4.png' %}",
    "{% static 'accounts/images/planetary_system/planets_ring/5.png' %}",
    "{% static 'accounts/images/planetary_system/planets_ring/6.png' %}"
  ]
}
</script> 